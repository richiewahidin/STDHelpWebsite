FROM node:20-alpine3.19 AS dependencies

WORKDIR /src/app
COPY . .

RUN npm install
RUN npm install -g pm2

EXPOSE 3000

CMD ["pm2-runtime", "start", "./src"]
